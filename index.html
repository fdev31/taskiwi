<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Twitter Bootstrap</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/css/bootstrap.css" rel="stylesheet" />
    <link href="/css/bootstrap-responsive.css" rel="stylesheet" />
    <link href="/css/main.less" rel="stylesheet/less" type="text/css" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Le fav and touch icons -->

    <script language="javascript" type="text/javascript" src="/js/less-1.3.0.min.js"></script>


  </head>

  <body data-spy="scroll" data-target=".subnav" data-offset="50">

<script type="text/javascript">
    var debug=true;
</script>

<!-- mustaches -->

<script id="edit_dialog" type="text/html">
	<div class="modal fade hide">
	  <div class="modal-header">
		<button type="button" class="close" data-dismiss="modal">Ã—</button>
		<h3>Edit</h3>
	  </div>
	  <div class="modal-body">
            {{#project}}[ <b>{{project}}</b> ]{{/project}} {{#status}}<span class="pull-right">{{status}}{{#priority}}&nbsp;(prio: {{priority}}){{/priority}}</span>{{/status}}
		  <dl class="dl-horizontal">

		    <dt>created on</dt>
		    <dd>{{date}}</dd>

            {{#due_date}}
		    <dt>due for</dt>
		    <dd>{{due_date}}</dd>
            {{/due_date}}

            {{#end_date}}
		    <dt>finished on</dt>
		    <dd>{{end_date}}</dd>
            {{/end_date}}

            <hr />

		    <dt>description</dt>
		    <dd>{{description}}</dd>

            <hr />

            {{#annotations}}
            <dt>{{id}}</dt>
            <dd>{{content}}</dd>
            {{/annotations}}
		  </dl>
	  </div>
	  <div class="modal-footer">
		<a href="#" class="btn" data-dismiss="modal">Close</a>
		<a href="#" class="btn btn-primary">Save changes</a>
	  </div>
	</div>
</script>
<div>
	<form class="well form-search" action="#">
		  <label>Project <input type="text" id="new_task_project" class="input-medium" data-provide="typeahead"></label>
		  &nbsp;
		  <label>Description <input type="text" id="new_task_descr" class="input-xlarge search-query"></label>
          <button type="submit" onclick="add_new_task($('#new_task_project').val(), $('#new_task_descr').val(), function(){$('#new_task_descr').val(''); set_focus();}); return false;" class="btn">Add</button>
          <button onclick="filter_tasks(); set_focus(); return false;" class="btn">Filter</button>
    </form>
</div>
<script id="tasklist" type="text/html">
<div class="tasklist row-fluid">
	<div class="well wip span7">
        <h2><a href="#" onclick="$('#pending_tasks').slideToggle()">TODO</a></h2>
		<ul id="pending_tasks" class="connected_tasks">
		{{#pending}}
			{{>taskitem}}
		{{/pending}}
		</ul>
	</div>

	<div class="well span5">
        <h2><a href="#" onclick="$('#done_tasks').slideToggle()">DONE</a></h2>
		<ul id="done_tasks" class="connected_tasks" style="overflow-x: hidden; overflow-y: scroll; height: 50ex;">
		{{#completed}}
			{{>taskitem}}
		{{/completed}}
		</ul>
	</div>
</div>
</script>

<script id="taskitem" type="text/html"><li class="dragdrop-draggable dragdrop-handle task task_{{status}} task_pri{{priority}}" id="{{uuid}}">
		{{#project}}
		<span class="proj_name"><b>[ {{project}} ]</b></span>
		{{/project}}
		{{#editable}}
		<a class="btn btn-mini pull-right" href="#" onclick="edit_task_popup('{{uuid}}')">edit</a>
		{{/editable}}
		&nbsp;
		{{description}}
</li></script>

<!-- /templates -->

	<div id="mainbody" class="container-fluid">
    </div><!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./js/jquery.js"></script>
    <script src="./js/jquery-ui.min.js"></script>
    <script src="./js/bootstrap-transition.js"></script>
    <script src="./js/bootstrap-modal.js"></script>
    <script src="./js/bootstrap-typeahead.js"></script>
    <script src="./js/application.js"></script>
    <script src="./js/ICanHaz.min.js"></script>

  </body>
</html>
